(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{179:function(e,t,a){e.exports=a(422)},184:function(e,t,a){},186:function(e,t,a){},188:function(e,t,a){},422:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(27),i=a.n(o),l=(a(184),a(31)),c=a(32),s=a(36),u=a(33),m=a(37),d=a(426),p=a(427),h=a(423),f=(a(186),a(188),a(172)),b=a.n(f),g=a(178),y=a(29),v=a(35),E=function(e){return{type:"SUM_CHANGE",payload:{foods:e.x,sum:e.y}}},O=function(e){return{type:"NOTES",payload:{notes:e.x}}},S=function(e){return{type:"NAME",payload:{name:e.x}}},j=a(23),N=a(59),w=a.n(N),k=a(34),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={value:"",default:"Hold the mayo? Let us know here."},a.handleChange=a.handleChange.bind(Object(j.a)(Object(j.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(j.a)(Object(j.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=this;this.setState({value:e.target.value},function(){var e=t.state.value;t.props.takeNotes({x:e})})}},{key:"handleSubmit",value:function(e){console.log(this.state.value),this.setState({default:"Submitted!"}),e.preventDefault(),this.refs.form.reset()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},r.a.createElement(w.a,{id:"outlined-multiline-static",label:"Notes:",multiline:!0,rows:"4",className:e.textField,margin:"normal",variant:"outlined",onSubmit:this.handleSubmit,onChange:this.handleChange,ref:"form",value:""!==this.props.notes?this.props.notes:"",placeholder:this.state.default}))}}]),t}(n.Component),x=Object(k.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:16},menu:{width:200}}})(C),q=Object(v.b)(function(e){return{notes:e.state.notes}},function(e){return Object(y.a)({takeNotes:O},e)})(x),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={value:"",default:"Name for the Order"},a.handleChange=a.handleChange.bind(Object(j.a)(Object(j.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(j.a)(Object(j.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=this;this.setState({value:e.target.value},function(){var e=t.state.value;t.props.takeName({x:e})})}},{key:"handleSubmit",value:function(e){this.setState({default:"Submitted!"}),e.preventDefault(),this.refs.form.reset()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},r.a.createElement(w.a,{id:"outlined-multiline-static",label:"Name:",multiline:!0,rows:"4",className:e.textField,margin:"normal",variant:"outlined",onSubmit:this.handleSubmit,onChange:this.handleChange,ref:"form",value:""!==this.props.notes?this.props.notes:"",placeholder:this.state.default}))}}]),t}(n.Component),F=Object(k.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:16},menu:{width:200}}})(I),A=Object(v.b)(function(e){return{name:e.state.name}},function(e){return Object(y.a)({takeName:S},e)})(F),T=a(177).a.initializeApp({apiKey:"AIzaSyAjb94vgRq8irBidVadb27Lk3tUUYi44AE",authDomain:"cus-menu.firebaseapp.com",databaseURL:"https://cus-menu.firebaseio.com",projectId:"cus-menu",storageBucket:"cus-menu.appspot.com",messagingSenderId:"387941227263"}),P=["drink-menu","appetizer-menu","entree-menu"],M=T.firestore(),B=a(81),_=a.n(B),D=a(82),R=a.n(D),H=a(24),U=a.n(H),z=a(68),L=a.n(z),V=a(67),X=a.n(V),W=a(48),G=a.n(W),Y=a(174),J=a.n(Y),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={sum:0,orders:[0],added:!1,foodOrder:[""],courseHeader:[""],counter:0,allMenu:[]},a.newOrder=[],a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[],a=[],n=[],r=function(r){var o=[];M.collection(P[r]).get().then(function(a){return a.forEach(function(e){t.push(e.data()),o.push(e.data())}),n.push(o),e.setState({allMenu:n}),t}).then(function(t){for(var n=0;n<e.state.allMenu.length;n++)e.setState(e.state.allMenu[n].map(function(e){return e.amount=0}));e.setState({foodOrder:t}),function(t){var n,r;switch(t){case"drink-menu":n="Drinks";break;case"appetizer-menu":n="Appetizers";break;case"entree-menu":n="Entrees"}r=e.state.counter,e.setState({counter:r+=1},function(){a.push(n)}),e.setState({courseHeader:a})}(P[r])})};for(var o in P)r(o)}},{key:"render",value:function(){var e,t=this,a=0,n=[],o=Object(k.createMuiTheme)({typography:{useNextVariants:!0,fontSize:18},palette:{type:"light",primary:J.a},root:{width:"100%",overflowX:"auto"},table:{minWidth:700}}),i=function(r,o){if("increase"===r)o.amount+=1,t.newOrder.push(o);else if("decrease"===r&&t.state.orders.includes(o)){var i=Object(g.a)(t.state.orders),l=i.findIndex(function(e){return e.name===o.name});o.amount>0&&(o.amount-=1,i.splice(l,1)),t.newOrder=i}e=t.newOrder.map(function(e){var t=parseFloat(e.price);return Number.isFinite(t)?t:0}),n=t.newOrder.map(function(e){return e.name});try{a=e.reduce(function(e,t){return e+t})}catch(c){a=0}t.setState({sum:parseFloat(a).toFixed(2),orders:t.newOrder,foodOrder:n},function(){var e=t.state.foodOrder,a=t.state.sum;t.props.updateSum({x:e,y:a})})};return r.a.createElement(k.MuiThemeProvider,{theme:o},r.a.createElement(A,null),r.a.createElement(X.a,null,this.state.allMenu.map(function(e,a){return r.a.createElement("div",{key:9*a},r.a.createElement("h2",{key:a},t.state.courseHeader[a]),r.a.createElement(_.a,{key:a+1},r.a.createElement(R.a,{key:a+2},e.map(function(e,t){return r.a.createElement(L.a,{key:8*t},r.a.createElement(U.a,{component:"th",scope:"row",key:12*t},r.a.createElement(G.a,{variant:"contained",onClick:function(t){return i("increase",e)}},"+")," ",r.a.createElement(G.a,{variant:"contained",onClick:function(t){return i("decrease",e)}},"-")),r.a.createElement(U.a,{align:"right"},e.name),r.a.createElement(U.a,{align:"right"},e.description),r.a.createElement(U.a,{align:"right"},"$",e.price),r.a.createElement(U.a,{align:"right"},e.amount))}))))}),r.a.createElement(w.a,{id:"filled-adornment-amount",variant:"filled",label:"Sum",value:this.props.sum}),r.a.createElement(q,null)))}}]),t}(n.Component),K=Object(v.b)(function(e){return{foods:e.state.foodOrder,sum:e.state.sum}},function(e){return Object(y.a)({updateSum:E},e)})($),Z=a(428),Q=a(69),ee={notes:"",foodOrders:"",sum:0,name:"",number:""},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTES":return Object(Q.a)({},e,{notes:t.payload.notes});case"SUM_CHANGE":return Object(Q.a)({},e,{foodOrders:t.payload.foods,sum:t.payload.sum});case"NAME":return Object(Q.a)({},e,{name:t.payload.name});case"NUMBER":return Object(Q.a)({},e,{number:t.payload.number});default:return e}},ae=Object(y.c)(Object(y.b)({state:te}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),ne=a(425),re=a(80),oe=a.n(re),ie={name:{verticalAlign:"top",display:"none",margin:0,border:"none",fontSize:"16px",fontFamily:"Helvetica Neue",padding:"16px",color:"#373F4A",backgroundColor:"transparent",lineHeight:"1.15em",placeholderColor:"#000",_webkitFontSmoothing:"antialiased",_mozOsxFontSmoothing:"grayscale"},leftCenter:{float:"left",textAlign:"center"},blockRight:{display:"block",float:"right"},center:{textAlign:"center"}},le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={cardBrand:"",nonce:void 0,googlePay:!1,applePay:!1,masterpass:!1,theName:""},a.requestCardNonce=a.requestCardNonce.bind(Object(j.a)(Object(j.a)(a))),a.updateTheName=a.updateTheName.bind(Object(j.a)(Object(j.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"updateTheName",value:function(e){var t=this;this.setState({theName:e.target.value},function(){ae.dispatch({type:"NAME_ADDITION",payload:t.state.theName})})}},{key:"requestCardNonce",value:function(){this.paymentForm.requestCardNonce()}},{key:"componentDidMount",value:function(){var e=this,t={applicationId:"sq0idp-Z5JGIKjy4k0H7dxqo1l9UA",locationId:"167QP2XTCH3YX",inputClass:"sq-input",autoBuild:!1,inputStyles:[{fontSize:"16px",fontFamily:"Helvetica Neue",padding:"16px",color:"#373F4A",backgroundColor:"transparent",lineHeight:"1.15em",placeholderColor:"#000",_webkitFontSmoothing:"antialiased",_mozOsxFontSmoothing:"grayscale"}],applePay:{elementId:"sq-apple-pay"},masterpass:{elementId:"sq-masterpass"},googlePay:{elementId:"sq-google-pay"},cardNumber:{elementId:"sq-card-number",placeholder:"\u2022 \u2022 \u2022 \u2022  \u2022 \u2022 \u2022 \u2022  \u2022 \u2022 \u2022 \u2022  \u2022 \u2022 \u2022 \u2022"},cvv:{elementId:"sq-cvv",placeholder:"CVV"},expirationDate:{elementId:"sq-expiration-date",placeholder:"MM/YY"},postalCode:{elementId:"sq-postal-code",placeholder:"Zip"},callbacks:{methodsSupported:function(t){t.googlePay&&e.setState({googlePay:t.googlePay}),t.applePay&&e.setState({applePay:t.applePay}),t.masterpass&&e.setState({masterpass:t.masterpass})},createPaymentRequest:function(){return{requestShippingAddress:!1,requestBillingInfo:!0,currencyCode:"USD",countryCode:"US",total:{label:"MERCHANT NAME",amount:e.props.sum,pending:!1},lineItems:[{label:"Subtotal",amount:e.props.sum,pending:!1}]}},cardNonceResponseReceived:function(t,a,n){if(t)return console.log("Encountered errors:"),void t.forEach(function(e){console.log("  "+e.message)});e.setState({nonce:a})},unsupportedBrowserDetected:function(){},inputEventReceived:function(t){switch(t.eventType){case"focusClassAdded":case"focusClassRemoved":break;case"errorClassAdded":document.getElementById("error").innerHTML="Please fix card information errors before continuing.";break;case"errorClassRemoved":document.getElementById("error").style.display="none";break;case"cardBrandChanged":"unknown"!==t.cardBrand?e.setState({cardBrand:t.cardBrand}):e.setState({cardBrand:""})}},paymentFormLoaded:function(){document.getElementById("name").style.display="inline-flex"}}};this.paymentForm=new this.props.paymentForm(t),this.paymentForm.build()}},{key:"render",value:function(){var e=this.props.sum;return r.a.createElement("div",{className:"container"},console.log(e),r.a.createElement("div",{id:"form-container"},r.a.createElement("div",{id:"sq-walletbox"},r.a.createElement("button",{style:{display:this.state.applePay?"inherit":"none"},className:"wallet-button",id:"sq-apple-pay"}),r.a.createElement("button",{style:{display:this.state.masterpass?"block":"none"},className:"wallet-button",id:"sq-masterpass"}),r.a.createElement("button",{style:{display:this.state.googlePay?"inherit":"none"},className:"wallet-button",id:"sq-google-pay"}),r.a.createElement("hr",null)),r.a.createElement("div",{id:"sq-ccbox"},r.a.createElement("p",null,r.a.createElement("span",{style:ie.leftCenter},"Enter Card Info Below "),r.a.createElement("span",{style:ie.blockRight},this.state.cardBrand.toUpperCase())),r.a.createElement("div",{id:"cc-field-wrapper"},r.a.createElement("div",{id:"sq-card-number"}),r.a.createElement("input",{type:"hidden",id:"card-nonce",name:"nonce"}),r.a.createElement("div",{id:"sq-expiration-date"}),r.a.createElement("div",{id:"sq-cvv"})),r.a.createElement("input",{id:"name",style:ie.name,type:"text",placeholder:"Name",onChange:this.updateTheName}),r.a.createElement("div",{id:"sq-postal-code"})),r.a.createElement(ne.a,null,r.a.createElement(p.a,null,r.a.createElement(G.a,{className:"button-credit-card",onClick:this.requestCardNonce,variant:"contained"},r.a.createElement(Z.a,{to:"/confirmation",activeClassName:"active"},"Pay $",e)),r.a.createElement(h.a,{path:"/confirmation",component:oe.a})))),r.a.createElement("p",{style:ie.center,id:"error"}))}}]),t}(n.Component),ce=Object(v.b)(function(e){return{sum:e.state.sum}},null)(le),se=a(176),ue=a.n(se),me=0;function de(e,t,a,n,r){return{id:me+=1,name:e,calories:t,fat:a,carbs:n,protein:r}}var pe=[de("Frozen yoghurt",159,6,24,4),de("Ice cream sandwich",237,9,37,4.3),de("Eclair",262,16,24,6),de("Cupcake",305,3.7,67,4.3),de("Gingerbread",356,16,49,3.9)];Object(k.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700}}})(function(e){var t=e.classes;return r.a.createElement(X.a,{className:t.root},r.a.createElement(_.a,{className:t.table},r.a.createElement(ue.a,null,r.a.createElement(L.a,null,r.a.createElement(U.a,null,"Dessert (100g serving)"),r.a.createElement(U.a,{align:"right"},"Calories"),r.a.createElement(U.a,{align:"right"},"Fat (g)"),r.a.createElement(U.a,{align:"right"},"Carbs (g)"),r.a.createElement(U.a,{align:"right"},"Protein (g)"))),r.a.createElement(R.a,null,pe.map(function(e){return r.a.createElement(L.a,{key:e.id},r.a.createElement(U.a,{component:"th",scope:"row"},e.name),r.a.createElement(U.a,{align:"right"},e.calories),r.a.createElement(U.a,{align:"right"},e.fat),r.a.createElement(U.a,{align:"right"},e.carbs),r.a.createElement(U.a,{align:"right"},e.protein))}))))});var he=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentWillMount=function(){var e=document.createElement("script");e.src="https://js.squareup.com/v2/paymentform",e.type="text/javascript",e.async=!1,e.onload=function(){a.setState({loaded:!0})},document.getElementsByTagName("head")[0].appendChild(e)},a.goToPage=function(e){a.reactPageScroller.goToPage(e)},a.state={loaded:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.loaded&&r.a.createElement("div",{className:"App",id:"main"},r.a.createElement(b.a,null,r.a.createElement(d.a,null,r.a.createElement(p.a,null,r.a.createElement(h.a,{path:"/payments",component:function(){return r.a.createElement(ce,{paymentForm:window.SqPaymentForm})}}),r.a.createElement(h.a,{path:"/confirmation",component:oe.a}),r.a.createElement(h.a,{path:"/:businessName",component:K}),r.a.createElement(h.a,{path:"/",exact:!0,component:K})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(v.a,{store:ae},r.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},80:function(e,t){}},[[179,2,1]]]);
//# sourceMappingURL=main.f5f0ced6.chunk.js.map